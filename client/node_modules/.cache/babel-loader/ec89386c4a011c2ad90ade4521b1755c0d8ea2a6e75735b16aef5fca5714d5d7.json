{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport API from './../api';\nexport default {\n  data() {\n    return {\n      rules: [value => !!value || \"This is required!!!!\"],\n      post: {\n        title: \"\",\n        category: \"\",\n        content: \"\",\n        image: \"\"\n      },\n      image: \"\"\n    };\n  },\n  async created() {\n    const res = await API.getPostById(this.$route.params.id);\n    this.post = res;\n  },\n  methods: {\n    selectFile(file) {\n      this.post.image = file[0];\n    },\n    async updateForm() {\n      const formData = new FormData();\n      formData.append('image', this.image);\n      formData.append('title', this.post.title);\n      formData.append('category', this.post.category);\n      formData.append('content', this.post.content);\n      formData.append('old_image', this.post.image);\n      if (this.$refs.form.validate()) {\n        const res = await API.updatePostById(this.$route.params.id, formData);\n        this.$router.push({\n          name: 'home',\n          params: {\n            message: res.message\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AA8BA;AAEA;EACAA;IACA;MACAC;MACAC;QAAAC;QAAAC;QAAAC;QAAAC;MAAA;MACAA;IACA;EACA;EACA;IACA;IACA;EACA;EAEAC;IACAC;MACA;IACA;IAEA;MACA;MACAC;MACAA;MACAA;MACAA;MACAA;MACA;QACA;QACA;UAAAC;UAAAC;YAAAC;UAAA;QAAA;MACA;IACA;EACA;AACA","names":["data","rules","post","title","category","content","image","methods","selectFile","formData","name","params","message"],"sourceRoot":"src/views","sources":["EditPost.vue"],"sourcesContent":["<template>\r\n    <v-container>\r\n      \r\n      <v-row no-gutters>\r\n          <v-col sm=\"10\" class=\"mx-auto\">\r\n              <v-card class=\"pa-5\">\r\n                  <v-card-title>\r\n                      <h1>Edit This Post</h1>\r\n                  </v-card-title>\r\n  \r\n                  <v-divider inset></v-divider>\r\n  \r\n                  <v-form ref=\"form\" class=\"pa-5\" enctype=\"multipart/form-data\" @submit.prevent=\"updateForm\">\r\n                      <v-text-field  v-model=\"post.title\" label=\"Title\" prepend-icon=\"mdi-note\"></v-text-field>\r\n  \r\n                      <v-text-field  v-model=\"post.category\" label=\"Category\" prepend-icon=\"mdi-format-list-bulleted-type\"></v-text-field>\r\n  \r\n                      <v-textarea  v-model=\"post.content\" label=\"Content\" prepend-icon=\"mdi-comment-text\"></v-textarea>\r\n  \r\n                      <v-file-input @change=\"selectFile\" counter show-size  label=\"Select Image\"></v-file-input>\r\n                      <v-img :src=\"`/${post.image}`\" width=\"150\" height=\"100\"></v-img>\r\n                      <v-btn type=\"submit\" class=\"mt-3\" color=\"success\">Update Post</v-btn>\r\n                  </v-form>\r\n              </v-card>\r\n          </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </template>\r\n  \r\n  <script>\r\n  import API from './../api'\r\n  \r\n  export default {\r\n      data() {\r\n          return {\r\n              rules: [(value) => !!value || \"This is required!!!!\"],\r\n              post: {title: \"\", category: \"\", content: \"\", image: \"\"},\r\n              image: \"\",\r\n          };\r\n      },\r\n      async created(){\r\n        const res = await API.getPostById(this.$route.params.id);\r\n        this.post = res;\r\n      },\r\n\r\n      methods: {\r\n          selectFile(file){\r\n              this.post.image = file[0];\r\n          },\r\n  \r\n          async updateForm(){\r\n              const formData = new FormData();\r\n              formData.append('image', this.image);\r\n              formData.append('title', this.post.title);\r\n              formData.append('category', this.post.category);\r\n              formData.append('content', this.post.content);\r\n              formData.append('old_image', this.post.image);\r\n              if(this.$refs.form.validate()) {\r\n                  const res = await API.updatePostById(this.$route.params.id , formData);\r\n                  this.$router.push({name: 'home', params: {message: res.message} })\r\n              }\r\n          }\r\n      }\r\n  }\r\n  </script>\r\n  \r\n  <style>\r\n  \r\n  </style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}